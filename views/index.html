<!DOCTYPE html>
<html lang="es">

<head>
  <title>Mostrar trabajadores</title>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Bootstrap CSS v5.3.2 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
</head>

<body>
  <div class="container">
    <form>
      <table style="border: 1px solid black;">
        <thead>
          <tr>
            <th>Sede</th>
            <th>Apellidos</th>
            <th>Nombres</th>
            <th>Documentos</th>
            <th>Fecha de Nacimiento</th>
            <th>Telefono</th>
            
          </tr>
        </thead>
        <tbody id="tbody">
  
        </tbody>
      </table>
      <a href="buscar.html"><button id="buscar" type="button" class="btn btn-primary">Busca</button></a>
      <a href="registrar.html"><button id="registrar" type="button" class="btn btn-primary">Registrar</button> </a>
    </form>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      function $(id) { return document.querySelector(id); }
      (function () {
        const tbody = $("tbody");

        fetch("../controllers/usuario.controller.php?tarea=listar")
          .then(respuesta => respuesta.json())
          .then(datos => {
            datos.forEach(element => {
              const tr = document.createElement("tr");

              const tdse = document.createElement("td");
              tdse.textContent = element.idsede;
              tr.appendChild(tdse);

              const tdap = document.createElement("td");
              tdap.textContent = element.apellidos;
              tr.appendChild(tdap);

              const tdno = document.createElement("td");
              tdno.textContent = element.nombres;
              tr.appendChild(tdno);

              const tddoc = document.createElement("td");
              tddoc.textContent = element.ndoc;
              tr.appendChild(tddoc);

              const tdnac = document.createElement("td");
              tdnac.textContent = element.fechanac;
              tr.appendChild(tdnac);

              const tdnu = document.createElement("td");
              tdnu.textContent = element.telefono;
              tr.appendChild(tdnu);

              tbody.appendChild(tr);
            });
          })
          .catch(e => {
            console.error(e);
          });
      })();

    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
    crossorigin="anonymous"></script>
</body>

</html>
